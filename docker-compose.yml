version: "3.8"

services:
  shuvcode:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: shuvcode
    hostname: shuvcode
    ports:
      - "4096:4096"
    volumes:
      - ./appdata/config:/home/opencode/.config/opencode
      - ./appdata/data:/home/opencode/.local/share/opencode
      - ./appdata/state:/home/opencode/.local/state/opencode
      - ./appdata/cache:/home/opencode/.cache/opencode
      - ./appdata/ssh:/home/opencode/.ssh
      - ./projects:/projects
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
      - PORT=4096
      - UPDATE_CHECK_INTERVAL=3600
    restart: unless-stopped
